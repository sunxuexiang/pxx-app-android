!function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=48)}({0:function(e,t){e.exports=xDllContext.React},3:function(e,t){e.exports=xDllContext.Immutable},48:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l=(i=n(0))&&i.__esModule?i:{default:i},s=n(3);function a(e){return(a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function m(e){return(m=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(49);window.BusinessDataCenter;var y=function(e){function a(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return f(o,(t=o=f(this,(e=m(a)).call.apply(e,[this].concat(r))),d(p(p(o)),"slider",""),d(p(p(o)),"slideRef",""),d(p(p(o)),"sliderWrap",""),d(p(p(o)),"initSlider",function(){function e(){var e=window.iSlider,t=[];t.push([r.get("dot")]);var n=r.get("animateType");"default"===n&&(n="normal"),o.extendISliderAnimate(),o.slider=new e({isAutoplay:1,isLooping:1,isOverspread:1,isTouchable:!0,animateType:n,duration:2e3,animateTime:300,dom:o.slideRef,fixPage:!1,data:o._getDataSource(),plugins:t})}var r=o.props.style;window.iSlider?e():o.loadSlider().then(function(){e()})}),d(p(p(o)),"extendISliderAnimate",function(){var i=window.iSlider;function e(e,t,n,r){switch(e.style.zIndex=1===r?2:1,r){case 0:i.setStyle(e,"transform","scale(2)");break;case 1:i.setStyle(e,"transform","scale(1)");break;case 2:i.setStyle(e,"transform","scale(0.5)")}}function t(e,t,n,r,o){switch(e.style.zIndex=1===r?2:1,r){case 0:case 1:i.setStyle(e,"transform","translateX(".concat(0,"px)"));break;case 2:i.setStyle(e,"transform","translateX(".concat(n+o,"px)"))}}function n(e,t,n,r){switch(e.style.zIndex=1===r?1:0,r){case 0:i.setStyle(e,"transform","translateY(0%)");break;case 1:i.setStyle(e,"transform","translateY(0)");break;case 2:i.setStyle(e,"transform","translateY(-100%)")}}function r(e,t,n,r){e.style.zIndex=1===r?1:0}i.extend(i._animateFuncs,{none:(r.effect="display",r),drop:(n.effect=i.styleProp("transform"),n.reverse=!0,n),wipe:(t.effect=i.styleProp("transform"),t),zoomout:(e.effect=i.styleProp("transform"),e)})}),d(p(p(o)),"_scaleImg",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:332,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"m_mfit";if(".gif"===e.substring(e.length-4,e.length).toLowerCase())return e;if(e&&-1<e.indexOf("oss-")&&e.indexOf("x-oss-process=image/format")<0){Array.isArray(e)||(e=e.split(",")),e=e.find(function(e){return""!==e&&null!==e});return"".concat(e,"?x-oss-process=image/format,jpg/interlace,1,image/resize,").concat(n,",w_").concat(750,",h_").concat(t)}return e}),d(p(p(o)),"loadSlider",function(){var e="https://oss-hz.qianmi.com/x-site/public/x-site-ui-wechat/statics/javascript/";return o.loaderJs(e+"iSlider.min.js").then(function(){return Promise.all([o.loaderJs(e+"iSlider.animate.min.js"),o.loaderJs(e+"iSlider.plugin.dot.min.js")])})}),d(p(p(o)),"loaderJs",function(o){return new Promise(function(e,t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.async=!0,r.src=o,n.appendChild(r),r.onload=function(){e()},r.onerror=function(e){t(e)}})}),d(p(p(o)),"loaderCss",function(r){return new Promise(function(e,t){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=r,n.onload=function(){e()},n.onerror=function(e){t(e)},document.getElementsByTagName("head")[0].appendChild(n)})}),t))}var t,n,r;return t=a,(n=[{key:"componentDidMount",value:function(){this.initSlider()}},{key:"shouldComponentUpdate",value:function(e){return!((0,s.is)(e.items,this.props.items)&&(0,s.is)(e.style,this.props.style))||e.dataWidgetPath!==this.props.dataWidgetPath}},{key:"componentDidUpdate",value:function(){this.slider.destroy(),this._removeDot(),this.initSlider()}},{key:"componentWillUnmount",value:function(){this.slider.destroy(),this._removeDot()}},{key:"render",value:function(){var t=this,e=this.props,n=e.style,r=e.dataWidgetPath,o=n.toJS(),i=o.size,a=o.bgColor,s=o.height,c="custom"===i?s/100+"rem":"";return l.default.createElement("div",{className:"qmBar isliderContent x-site-weixin-head-mt","data-widget-path":r},l.default.createElement("div",{className:"qmGroup size-".concat(i),ref:function(e){return t.sliderWrap=e},"data-widget-path":r},l.default.createElement("div",{className:"size-".concat(i),style:{background:a,height:c},id:"isliderArea",ref:function(e){return t.slideRef=e}})))}},{key:"_removeDot",value:function(){for(var e=this.sliderWrap.getElementsByClassName("islider-dot-wrap"),t=0,n=e.length;t<n;t++)e[t].remove()}},{key:"_getDataSource",value:function(){var t=this,e=this.props.items,n=this.props.style.toJS().style,r="display:block;width:100%;height:100%;";return e.isEmpty()&&(e=e.push({content:'<a style="'.concat(r,'" href="javascript:;"><img style="').concat(r,'" src="http://img.1000.com/qm-a-img/test2/01/1febbf4b7e3f7aaec3ef9b5a6ba211b3.jpg@712w_712h.png" /></a>')})),e.toJS().map(function(e){return{content:'<a style="'.concat(r,'" href="javascript:;"\n    onClick=\'if (!BusinessDataCenter) return;BusinessDataCenter.getResult("go_link", ').concat(e.imgHref,");'>\n    <picture>\n      <source type=\"image/webp\" src='").concat(t._wrapUrl(e,"srcWebp"),"' srcset='").concat(t._wrapUrl(e,"srcSetWebp"),"' />\n      <source type=\"image/webp\" src='").concat(t._wrapUrl(e,"src"),"' srcset='").concat(t._wrapUrl(e,"srcSet"),"' />\n      <img style=\"").concat(r," ").concat(!!n&&"default"!==n&&("circular1"===n?"-webkit-mask-box-image-source: url('//wanmi-x-site.oss-cn-shanghai.aliyuncs.com/x-site/public/images/mask-image-1.png')":"-webkit-mask-box-image-source: url('//wanmi-x-site.oss-cn-shanghai.aliyuncs.com/x-site/public/images/mask-image-2.png')"),"\" src='").concat(t._wrapUrl(e,"src"),"'  srcSet='").concat(t._wrapUrl(e,"srcSet"),"'/>\n    </picture>\n  </a>")}})}},{key:"_wrapUrl",value:function(e,t){var n=this.props.style,r=n.size,o=n.height,i={small:235,default:335,big:535};console.log("slider-img-h"),console.log(r,i[r]);var a="custom"===r?o:i[r],s=e.content,s=this._scaleImg(s,a);if(!(window.xDllContext&&window.xDllContext.xKit&&window.xDllContext.xKit.optimizeImage&&window.xDllContext.xKit.optimizeImage.createSrc))return s;var c=window.xDllContext.xKit.optimizeImage.createSrc({w:375,h:a,imgSrc:s,dpr:1}),l=window.xDllContext.xKit.optimizeImage.createSrcset({w:375,h:a,imgSrc:s}),u=window.xDllContext.xKit.optimizeImage.createSrc({w:375,h:a,imgSrc:s,dpr:1,webp:!0}),f=window.xDllContext.xKit.optimizeImage.createSrcset({w:375,h:a,imgSrc:s,webp:!0});return"srcWebp"===t?u:"srcSet"===t?l:"srcSetWebp"===t?f:c}}])&&u(t.prototype,n),r&&u(t,r),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");c(e.prototype,t&&t.prototype),t&&c(e,t)}(a,e),a}(l.default.Component);d(t.default=y,"displayName","SliderCommonBar"),__XSite_widgetInject(y,{widgetNameSpace:"@wanmi/wechat-slider",isProxy:!1}),__XSite_widgetInject(y,{widgetNameSpace:"x-site-ui-wechat/widget-bar/slider-bar/slider-common-bar",isProxy:!1})},49:function(e,t,n){}});